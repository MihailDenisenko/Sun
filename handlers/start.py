from telegram import Update
from telegram.ext import ContextTypes, MessageHandler, filters
from keyboards.main_menu import get_main_menu_keyboard
from config import MAIN_MENU

async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start"""
    user = update.effective_user
    
    welcome_text = f"""
üëã –ü—Ä–∏–≤–µ—Ç, {user.first_name}!

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∞–≥–∞–∑–∏–Ω –æ–¥–µ–∂–¥—ã "–°–æ–ª–Ω—ã—à–∫–æ"! 

üéΩ –£ –Ω–∞—Å —Ç—ã –Ω–∞–π–¥–µ—à—å:
‚Ä¢ –§—É—Ç–±–æ–ª–∫–∏ –∏ —Ç–æ–ª—Å—Ç–æ–≤–∫–∏
‚Ä¢ –®—Ç–∞–Ω—ã –∏ —Ö—É–¥–∏
‚Ä¢ –ë–∞–Ω–¥–∞–Ω—ã –∏ –º–∞—Å–∫–∏
‚Ä¢ –ò –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ!

–í—ã–±–∏—Ä–∞–π —Ç–æ–≤–∞—Ä—ã, –¥–æ–±–∞–≤–ª—è–π –≤ –∫–æ—Ä–∑–∏–Ω—É –∏ –æ—Ñ–æ—Ä–º–ª—è–π –∑–∞–∫–∞–∑ –ø—Ä—è–º–æ –∑–¥–µ—Å—å! üõí
    """
    
    await update.message.reply_text(
        welcome_text,
        reply_markup=get_main_menu_keyboard(),
        parse_mode='Markdown'
    )
    
    return MAIN_MENU

async def show_contacts(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–∞–∫—Ç—ã –º–∞–≥–∞–∑–∏–Ω–∞"""
    contacts_text = """
üìû *–ö–æ–Ω—Ç–∞–∫—Ç—ã –º–∞–≥–∞–∑–∏–Ω–∞*

*–¢–µ–ª–µ—Ñ–æ–Ω—ã:*
‚Ä¢ +7 (812) 702-73-41
‚Ä¢ +7 (812) 251-87-21  
‚Ä¢ +7 (901) 314-20-65

üìç *–ê–¥—Ä–µ—Å:*
–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –ù–∞–±–µ—Ä–µ–∂–Ω–∞—è –û–±–≤–æ–¥–Ω–æ–≥–æ –ö–∞–Ω–∞–ª–∞ 223/225 –ª–∏—Ç–µ—Ä–∞ –ú.

*–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã:*
–ü–Ω-–ü—Ç: 10:00 - 18:00
–°–±: 11:00 - 16:00
–í—Å: –≤—ã—Ö–æ–¥–Ω–æ–π

*–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏:*
[–í–ö–æ–Ω—Ç–∞–∫—Ç–µ](https://vk.com/sunshintspb)
[Instagram](https://www.instagram.com/sunshint_spb)
    """
    
    # –£–±–∏—Ä–∞–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –≤ –∫–æ–Ω—Ç–∞–∫—Ç—ã
    await update.message.reply_text(
        contacts_text,
        reply_markup=None,  # –£–±–∏—Ä–∞–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
        parse_mode='Markdown'
    )
    
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–µ–Ω—é —Å–Ω–æ–≤–∞ –ø–æ—Å–ª–µ –ø–æ–∫–∞–∑–∞ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
    await update.message.reply_text(
        "–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é:",
        reply_markup=get_main_menu_keyboard()
    )
    
    return MAIN_MENU

async def show_about(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –º–∞–≥–∞–∑–∏–Ω–µ"""
    about_text = """
üè™ *–û –Ω–∞—à–µ–º –º–∞–≥–∞–∑–∏–Ω–µ*

–ú—ã - —Ñ–∏—Ä–º–∞ "–°–æ–ª–Ω—ã—à–∫–æ", —Ä–∞–±–æ—Ç–∞–µ–º —Å 2008 –≥–æ–¥–∞!

üéØ *–ù–∞—à–∞ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:*
‚Ä¢ –ü–µ—á–∞—Ç—å –Ω–∞ —Ç–µ–∫—Å—Ç–∏–ª–µ
‚Ä¢ –ü–æ—à–∏–≤ –æ–¥–µ–∂–¥—ã –Ω–∞ –∑–∞–∫–∞–∑
‚Ä¢ –¢–∏—Å–Ω–µ–Ω–∏–µ –Ω–∞ –∫–æ–∂–µ
‚Ä¢ –ü—Ä–æ–¥–∞–∂–∞ –≥–æ—Ç–æ–≤–æ–π –ø—Ä–æ–¥—É–∫—Ü–∏–∏

üñ®Ô∏è *–£—Å–ª—É–≥–∏ –ø–µ—á–∞—Ç–∏:*
‚Ä¢ –®–µ–ª–∫–æ–≥—Ä–∞—Ñ–∏—è
‚Ä¢ –¢–µ–∫—Å—Ç–∏–ª—å–Ω—ã–π –ø—Ä–∏–Ω—Ç–µ—Ä  
‚Ä¢ –®–µ–ª–∫–æ—Ç—Ä–∞–Ω—Å—Ñ–µ—Ä
‚Ä¢ –ü–µ—á–∞—Ç—å —ç—Ç–∏–∫–µ—Ç–æ–∫

üí™ *–ù–∞—à–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:*
‚Ä¢ –°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ
‚Ä¢ –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
‚Ä¢ –ë—ã—Å—Ç—Ä—ã–µ —Å—Ä–æ–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
‚Ä¢ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥
    """
    
    # –£–±–∏—Ä–∞–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –≤ "–û –º–∞–≥–∞–∑–∏–Ω–µ"
    await update.message.reply_text(
        about_text,
        reply_markup=None,  # –£–±–∏—Ä–∞–µ–º –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
        parse_mode='Markdown'
    )
    
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–µ–Ω—é —Å–Ω–æ–≤–∞ –ø–æ—Å–ª–µ –ø–æ–∫–∞–∑–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
    await update.message.reply_text(
        "–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é:",
        reply_markup=get_main_menu_keyboard()
    )
    
    return MAIN_MENU

# –£–ë–ò–†–ê–ï–ú –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–∑ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ - –ø–µ—Ä–µ–Ω–æ—Å–∏–º –∏—Ö –≤ bot.py